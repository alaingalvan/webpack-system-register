!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("fs"),require("path"),require("webpack-sources")):"function"==typeof define&&define.amd?define(["fs","path","webpack-sources"],t):"object"==typeof exports?exports["webpack-systemjs-export-plugin"]=t(require("fs"),require("path"),require("webpack-sources")):e["webpack-systemjs-export-plugin"]=t(e.fs,e.path,e["webpack-sources"])}(this,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,t,n){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("webpack-sources")},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(2),s=function(){function e(e){var t=this;void 0===e&&(e={}),this.apply=function(e){t.clearExternals(t.config.externals,e),t.exposePublicModules(t.config["public"],e),t.wrapRegisteredChunks(t.config.register,e),t.bundleSystemJS(t.config.bundleSystemJS,e)},this.clearExternals=function(e,t){void 0===e&&(e=[])},this.exposePublicModules=function(e,t){void 0===e&&(e=[])},this.wrapRegisteredChunks=function(e,t){void 0===e&&(e=[])},this.bundleSystemJS=function(e,t){void 0===e&&(e=""),e&&t.plugin("compilation",function(t){t.plugin("optimize-chunk-assets",function(n,s){n.forEach(function(n){if(n.isInitial()&&n.name===e){var s=n.files[0],u=".src";process.env.NODE_ENV&&process.env.NODE_ENV.match(/production/)&&(u="-csp-production"),console.log(__dirname);var c=r.join(__dirname,"node_modules","systemjs","dist","system"+u+".js"),f=o.readFileSync(c).toString();t.assets[s]=new i.ConcatSource(t.assets[s],f)}}),s()})})},this.validateTypes=function(e){var t=function(e){throw new Error("WebpackSystemJSExport Error: "+e)},n=function(e,n,r,o){if("undefined"!=typeof e){Array.isArray(e)||t("configuration `"+r+"` must be of type "+o);for(var i=0,s=e;i<s.length;i++){var u=s[i];n(u)||t("configuration `"+r+"` must be of type "+o+" on every element of array")}}};return"object"!=typeof e&&t("Configuration must be of type Object"),n(e.externals,function(e){return"string"==typeof e||e instanceof RegExp},"externals","(string | RegExp)[]"),n(e["public"],function(e){return"string"==typeof e||e instanceof RegExp},"public","(string | RegExp)[]"),n(e.register,function(e){return"number"==typeof e.name&&"function"==typeof e.alias},"register","{name: string, alaias: (chunk: string) => string}"),"string"!=typeof e.bundleSystemJS&&t("configuration `bundleSystemJS` must be of type string"),e},this.config=this.validateTypes(e)}return e}();t.WebpackSystemJSExportPlugin=s,t.__esModule=!0,t["default"]=s}])});